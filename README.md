# тЪб Linux Performance Tuner

Linux Performance Tuner р╕Др╕╖р╕нр╕Кр╕╕р╕Фр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З Linux р╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ър╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕лр╕Щр╕▒р╕Б р╣Ар╕Кр╣Ир╕Щ Streaming, Server р╕гр╕нр╕Зр╕гр╕▒р╕Ър╣Вр╕лр╕ер╕Фр╕кр╕╣р╕З, р╕Бр╕▓р╕гр╣Ар╕гр╣Ир╕З IO, Network, CPU р╣Бр╕ер╕░ Disk

## тЬЕ Features

- р╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З sysctl.conf р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕б performance
- р╕Ир╕╣р╕Щ I/O Scheduler р╕кр╕│р╕лр╕гр╕▒р╕Ъ NVMe/SSD
- р╣Ар╕Юр╕┤р╣Ир╕б TCP connection р╣Бр╕ер╕░ tune network stack
- р╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕Др╕зр╕▓р╕бр╣Ар╕лр╕бр╕▓р╕░р╕кр╕бр╕Бр╕▒р╕Ъ Server р╕Чр╕╡р╣Ир╕бр╕╡ concurrent users р╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б
- р╕Ыр╕гр╕▒р╕Ър╕Др╣Ир╕▓ swappiness, dirty_ratio, р╣Бр╕ер╕░ virtual memory р╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ъ HLS/Streaming
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ Ubuntu 20.04/22.04, Debian, CentOS
- ЁЯФе р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕Яр╕ер╣М nginx.conf р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Вр╕лр╕ер╕Фр╕кр╕╣р╕Зр╣Бр╕ер╕░ HLS Streaming

## тЪЩя╕П р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. Clone р╣Вр╕Ыр╕гр╣Ар╕Ир╕Бр╕Хр╣Мр╕Щр╕╡р╣Й
```bash
git clone https://github.com/vlogg1527/tune-linux.git
cd tune-linux
```

### 2. р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕Ир╕╣р╕Щр╕гр╕░р╕Ър╕Ъ
```bash
sudo bash tune.sh
```



ЁЯЫа р╕зр╕┤р╕Шр╕╡р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ: tune-hls-streaming.sh
```bash
bash
chmod +x tune-hls-streaming.sh
sudo ./tune-hls-streaming.sh
```


> тЪая╕П **р╕Др╕зр╕гр╕Чр╕│ backup р╕Бр╣Ир╕нр╕Щр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ**

## ЁЯза р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### Network (sysctl)
- р╣Ар╕Юр╕┤р╣Ир╕б `tcp_max_syn_backlog`, `somaxconn`, `tcp_tw_reuse`
- р╕ер╕Ф latency р╣Вр╕Фр╕вр╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕б `tcp_fin_timeout` р╣Бр╕ер╕░ `tcp_keepalive`

### Disk / IO
- р╕Ыр╕гр╕▒р╕Ъ I/O scheduler р╣Ар╕Ыр╣Зр╕Щ `none` р╕лр╕гр╕╖р╕н `mq-deadline` р╕кр╕│р╕лр╕гр╕▒р╕Ъ NVMe
- р╕ер╕Ф write-back delay р╕Фр╣Йр╕зр╕в dirty_ratio/dirt_background_ratio

### Memory
- р╕ер╕Ф `swappiness` р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╣Гр╕Кр╣Й RAM р╕Бр╣Ир╕нр╕Щ swap
- р╣Ар╕Юр╕┤р╣Ир╕б `min_free_kbytes` р╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╣Ар╕кр╕Цр╕╡р╕вр╕гр╣Ар╕бр╕╖р╣Ир╕нр╣Вр╕лр╕ер╕Фр╕кр╕╣р╕З

### NGINX Config (р╕кр╕│р╕лр╕гр╕▒р╕Ъ HLS р╣Бр╕ер╕░р╣Вр╕лр╕ер╕Фр╕кр╕╣р╕З)
- р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕З nginx.conf р╕Ыр╕гр╕▒р╕Ър╕Др╣Ир╕▓ buffer, connection, cache, gzip р╣Бр╕ер╕░р╕гр╕░р╕Ър╕Ър╣Др╕Яр╕ер╣М
- р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Йр╕Др╕╣р╣Ир╕Бр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ Streaming р╕лр╕гр╕╖р╕н Reverse Proxy р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Ир╕│р╕Щр╕зр╕Щр╕бр╕▓р╕Б
- р╣Гр╕Кр╣Й `worker_connections`, `proxy_buffers`, `open_file_cache` р╣Бр╕ер╕░ `gzip` р╕нр╕вр╣Ир╕▓р╕Зр╣Ар╕лр╕бр╕▓р╕░р╕кр╕б

> ЁЯФз р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕Яр╕ер╣М `nginx.conf` р╕бр╕╡р╣Гр╕лр╣Йр╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Фр╣Гр╕Щр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╕Щр╕╡р╣Й

## ЁЯУД License

MIT

## ЁЯЩЛтАНтЩВя╕П р╕Ьр╕╣р╣Йр╕Юр╕▒р╕Тр╕Щр╕▓

- [@vlogg1527](https://github.com/vlogg1527)

---

тЬи р╕лр╕▓р╕Бр╕Др╕╕р╕Ур╣Гр╕Кр╣Йр╣Бр╕ер╣Йр╕зр╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ р╕лр╕гр╕╖р╕нр╕нр╕вр╕▓р╕Бр╣Ар╕кр╕Щр╕нр╕Ыр╕гр╕▒р╕Ър╕Ыр╕гр╕╕р╕З р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Ыр╕┤р╕Ф Issue р╣Др╕Фр╣Йр╣Ар╕ер╕в!
